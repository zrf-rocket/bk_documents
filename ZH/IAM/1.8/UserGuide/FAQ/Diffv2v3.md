# V3 和 V2 的差异？

> V3 和 V2 的差异仅在蓝鲸企业版中存在，V2 对应蓝鲸企业版2.X，V3 版对应蓝鲸企业版3.X，社区版统一为 V3 版本。

权限中心 V3 采用了目前业界最强大灵活的的ABAC（Attribute-Based Access Control）模型引擎，融合了 ACL(Access Control List)、RBAC(Role-Based Access Control)、LBAC(Label-Based Access Control)的理念，重新调整优化后的权限模型，使得权限中心在针对海量实例的鉴权时依然可以轻松应对，查询和鉴权性能得到了指数级提升，同时在产品层，对权限的管理删繁就简，聚焦核心场景，更加人性化、更加贴合业务实际需求。

<table><tbody>
<tr><td width="20%">功能</td><td width="40%">V3版</td><td width="40%">V2版</td></tr>
<tr><td width="20%">权限模型</td><td width="40%">ABAC，更灵活更强大，支持更多场景</td><td width="40%">定制版，灵活性较差</td></tr>
<tr><td width="20%">后台优势</td><td width="40%">自研引擎，支持ABAC，查询/鉴权性能，QPS 10000+</td><td width="40%">基于casbin，查询/鉴权性能，QPS 3000+</td></tr>
<tr><td width="20%">权限获得方式</td><td width="40%">三种：加入用户组、继承组织权限、自定义权限，更聚焦</td><td width="40%">四种：加入用户组、权限模板授权、继承组织权限、自定义权限，授权虽然灵活但不好管理</td></tr>
<tr><td width="20%">用户组</td><td width="40%">用户组可以添加权限模板，权限模板和用户组之间没有有效期，用户或者组织加入用户组的时候只存在一个有效期</td><td width="40%">用户组可以添加权限模板，每次添加权限都可以有单独的有效期，用户或者组织加入用户组不需要有效期，存在用户组添加了某些权限，但实际无权限（已过期）的情况</td></tr>
<tr><td width="20%">权限模板</td><td width="40%">权限模板必须关联用户组后才能给用户授权，权限模板和用户组之间存在关联关系，权限模板编辑后可以同步到已关联的用户组</td><td width="40%">权限模板可以单独授权给用户，权限模板和用户组之间不存在关联关系，权限模板编辑后无法同步给已关联的用户组</td></tr>
<tr><td width="20%">权限配置</td><td width="40%">直接选择需要的操作权限，选择实例直接从顶级资源类型开始选择，业务、项目只是顶层的资源类型，无特殊性</td><td width="40%">先选择资源类型，再勾选对应的操作，选择资源实例时需要先选择内置的资源范围：业务、项目，在选择具体的资源实例</td></tr>
<tr><td width="20%">二级权限管理</td><td width="40%">v3版推出了分级管理员功能，支持任意资源范围的授权能力，小可以是一个实例的权限管理员，大可以是所有资源实例的权限管理员</td><td width="40%">无</td></tr>
<tr><td width="20%">超级管理员</td><td width="40%">内置角色，只需要简单配置即可，默认仅拥有所有接入系统的授权权限，通过配置可以拥有所有资源权限，无需被授权，直接通过角色鉴权</td><td width="40%">一个特殊的用户组，仍需要通过用户组的权限来鉴权</td></tr>
<tr><td width="20%">系统管理员</td><td width="40%">内置角色，只需要简单配置即可，默认仅拥有对应系统的授权权限，通过配置可以拥有对应系统的资源全能型，对应系统权限无需被授予，可以授予其他系统权限，直接通过角色鉴权</td><td width="40%">一个特殊的用户组，仍需要通过用户组的权限来鉴权</td></tr>
<tr><td width="20%">admin</td><td width="40%">内置超级管理员角色，默认拥有所有接入系统的授权权限和资源权限</td><td width="40%">默认被加入到超级管理员用户组里，默认拥有所有接入系统的授权权限和资源权限</td></tr>
<tr><td width="20%">系统接入</td><td width="40%">SDK支持（Python/Go语言版本已开源）</td><td width="40%">无SDK支持</td></tr>
<tr><td width="20%">实例存储方式</td><td width="40%">分布式存储，资源实例只有在用户配置实例权限时从接入系统拉取，权限中心不单独存储实例数据</td><td width="40%">集中式存储，资源实例统一集中存储到权限中心</td></tr>
<tr><td width="20%">鉴权方式</td><td width="40%">分布式鉴权，权限中心仅存储策略表达式，具体鉴权逻辑需要接入系统自行解析比对</td><td width="40%">集中式鉴权，权限中心负责解析和鉴权所有实例</td></tr>
<tr><td width="20%">实例选择方式</td><td width="40%">拓扑视图选择，支持任意层级资源的选择，支持同一个资源类型的多种实例视图选择</td><td width="40%">支持嵌套的列表选择，同一个资源类型仅支持单个拓扑选择</td></tr>
<tr><td width="20%">组织架构授权</td><td width="40%">组织只有加入到用户组才能被授权</td><td width="40%">组织可以直接被权限模板授权</td></tr>
<tr><td width="20%">权限策略</td><td width="40%">以操作为导向鉴权</td><td width="40%">以资源为导向鉴权</td></tr>
<tr><td width="20%">SDK</td><td width="40%">支持Java、python、Go，其中Python、Go已开源</td><td width="40%">无</td></tr>
<tr><td width="20%">审批流程</td><td width="40%">目前支持上级审批、分级管理员审批、系统管理员审批、超级管理员审批、指定审批人审批</td><td width="40%">支持上级审批、资源审批人审批、超级管理员审批、系统管理员审批、指定审批人审批</td></tr>
<tr><td width="20%">个人权限所有权限</td><td width="40%">用户组权限 + 自定义权限</td><td width="40%">我的权限</td></tr>
<tr><td width="20%">最佳实践</td><td width="40%">分级管理员 + 用户组</td><td width="40%">无</td></tr>
<tr><td width="20%">资源之间关系</td><td width="40%">资源之间默认独立注册，通过实例视图建立关联关系，业务、项目只是其中一类层级资源</td><td width="40%">资源之间默认从属关系，其中业务、项目、全局为资源隔离范围</td></tr>
<tr><td width="20%">操作与资源关系</td><td width="40%">操作、资源类型是关联关系，解耦</td><td width="40%">操作从属于某个资源类型，完全耦合</td></tr>
</tbody></table>
