# 高级功能

## 两种开发语言

支持 Python 和 Java 两种开发语言，其中 Python 是支持 Python3，且兼容 Python2.7.X，Django 框架支持 1.11。

![-w2020](../../assets/图片20.png)

## 外链应用

通过第三方系统的 URL，引入到“应用市场”，可供使用者在蓝鲸体系内使用的 SaaS 应用。

![-w2020](../../assets/图片18.png)

## 日志查询

蓝鲸 PaaS 平台为开发者提供在线日志服务，开发者可以在“服务”-\>“日志查询”中查看应用全方位日志信息，包括：普通日志/组件调用/UWSGI/CELERY/NGINX/Gunicorn，也可以通过环境，日志级别和时间过滤查看。

![-w2020](../../assets/图片39.png)

- uWSGI/Nginx/Gunicorn

  为系统日志，部署时平台负责将日志输出到固定目录，开发者不能定义内容。

- 普通/组件调用/Celery

  为开发框架中定义的 logger 输出的日志，开发者可以自定义内容。

日志产生后，由采集 agent 进程采集-\>解析-\>汇总入日志查询引擎，在“开发者中心”提供的应用“服务”中可以查询到。

![-w2020](../../assets/图片40.png)

- 时间：默认最近 1 小时，可选最近 1 小时/12 小时/1 天/7 天/14 天，支持自定义时间段，最长可以查 30 天内日志。

- 环境： 默认全部，可选测试环境/正式环境。

- 类型：默认应用日志，可选访问日志/组件日志/Celery 日志。

- 日志级别: 500、200、404、50X、40X、30X、20X。

- URI ：可输入关键字进行查找。

> <font color=red>注</font>：从日志产生到可查的时间间隔：5s 左右。

## 对象存储服务

平台为开发者提供了对象存储服务，您可以用它来存储应用中用户上传的图片、文件等内容。

它完全兼容 Amazon S3 存储协议，使用起来就像访问本地文件系统那么方便。

![-w2020](../../assets/dev_duixingcunchu.png)

> 说明：当前对象存储服务的不能根据 SaaS 进行自定义调整，仅限在 PaaS 服务部署的时候设置默认大小。

## 监控告警

开发者除了关注开发日志外，更关注应用的稳定运行，则需要一个实时推送告警的功能，帮助开发者在第一时间发现应用的问题，提高用户体验。所以，平台提供了日志监控告警服务。开发者可以自行配置相应的告警参数，告警接收人等信息，平台会实时监控日志数据，一旦命中规则，即向开发者推送告警信息。

> <font color=red>注</font>：应用注册后，告警服务默认为开启状态，建议重要的应用不要手动关闭该服务。如果关闭，应用告警将不会发送给告警接收人。

![-w2020](../../assets/图片41.png)

![-w2020](../../assets/图片42.png)

- 告警接收：填写接收人账号并选择要接收的告警类型，系统将以邮件的形式发送告警给接收人，接收人默认为应用开发者。

- 普通告警：针对开发者代码调试日志进行监控和告警，支持日志等级和关键字关联配置，建议开发者调整日志级别，调试日志用 INFO 级别，异常日志使用 ERROR 级别，以免造成不必要的干扰。

- HTTP 告警：针对应用 UWSGI 日志进行监控和告警，支持请求错误码和慢请求配置。

- 组件告警：针对应用组件调用日志进行监控和告警，支持日志等级配置。

- Celery 告警：针对应用 celery 日志进行监控和告警，支持日志等级和关键字关联配置(仅针对启用了 celery 服务的应用)。

## API 权限

基于 API 权限控制的功能，在使用的过程中，需要注意：

- 作为 API 提供方，即就是 API 开发者，在接入 API 网关服务的时候，可以勾选该 API 的“权限级别”，从而限制 API 的使用方。

![-w2020](../../assets/dev_apikaifa.png)

- 作为 SaaS 开发者，若需要使用授权的 API，点击申请即可，将由 PaaS 平台的系统管理员进行审批与授权。

![-w2020](../../assets/dev_saasapiquanxian.png)

所以，通过 API 权限和请求频率的控制，实现对 API 的便捷控制。

## 数据统计

对于 SaaS 的产品经理，运营人员，比较关心的就是用户量与访问数据。

主要针对 SaaS 在蓝鲸工作台、应用市场被打开次数进行统计。可以按时间维度查看访问量和用户数量。

![-w2020](../../assets/dev_shujutongji.png)
