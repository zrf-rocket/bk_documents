# 为什么日志查询为空

一般来说，日志查询为空有几种可能：

## 使用了开发框架，但是日志打印方式不正确

请查阅文档来确定日志打印方法是否正确：
- [Python 框架日志使用方法](../company_tencent/python_framework_usage.md#日志使用)
- [NodeJS 框架日志接入](../company_tencent/node_framework_usage.md#接入日志)

## 未使用开发框架

如果没有使用开发框架，那么需要按照平台日志采集的规则来打印、存放你的日志文件。

目前蓝鲸日志只支持 json 格式的结构化日志文件采集，非此格式的日志行会被丢弃。

开发者需要将日志文件，以约定的规则输出到特定的路径下即可（对于已经使用了开发框架的应用，可以使用默认配置）

日志路径为：
```
/app/v3logs/
```

同时文件名需要遵循规律：
```
$BKPAAS_PROCESS_TYPE-xxxx-${stream}.log
```

其中 `$BKPAAS_PROCESS_TYPE` 将决定该日志属于哪一个应用进程，具体的值可以直接从环境变量中获取。

而 `${stream}` 则是决定该日志在前端查询 stream 字段分类，目前支持:

- component
- celery
- django
- mysql
- json
- xxxx 为随机串，用于文件唯一标识。

值得注意的是，文件需要使用 json 格式，其中有两个必须的字段：

- asctime，日志生成时间，使用 YYYY-MM-DD HH:mm:ss,SSS 格式
- message，具体的日志内容


## 查询条件有误

日志查询页面类似于 Kibana，支持 ElasticSearch 查询语法，如果出现了互斥的查询条件，那么请清除查询条件再重试。

## 查询超过 14 天的日志

目前平台采集的应用日志只保存 14 天，超过 14 天的日志将会被删除，如有更多的日志查询需求可以联系蓝鲸助手。

## 日志打印频率过快

采集侧针对**应用**纬度做了流控，**每一个应用每分钟最多采集6000条（模块间共享额度）**，如果超过此限制的日志，会被采集侧丢弃，而不会落入 ElasticSearch 集群（仍旧在硬盘上，如果仍需查看，日志打印两天内可以联系蓝鲸助手协助导出）

## 日志打印单条过大

单条日志**最大支持 100KB**，超过则不会被采集。请尽量避免超大日志打印。