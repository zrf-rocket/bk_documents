# 版本详情

- 版本类型：release
- 版本号：社区版 5.1
- 修改日期：2020-03-17

## 后台模块

|     子模块     |  版本号  |         备注         |
|:--------------:|:--------:|:--------------------:|
|      gse       |  3.4.91   |       管控平台       |
|      cmdb      |  3.2.21  |       配置平台       |
|      job       |  5.0.21  |       作业平台       |
|   open_paas    | 3.2.6061  |       PaaS 平台       |
|   paas_agent   | 3.1.0213 |       PaaS 平台       |
|    license     |  3.1.4   |       证书服务       |
| bkdata/dataapi |  1.3.31  | 数据基础模块 API 服务  |
| bkdata/databus |  1.2.33  | 数据基础模块总线服务 |
| bkdata/monitor |  2.5.35  |   蓝鲸监控后台模块   |
|      fta       |  6.0.50  |   故障自愈后台模块   |

## SaaS 应用

|       SaaS       | 版本号  |   备注   |
|:----------------:|:-------:|:--------:|
|    bk_nodeman    | 1.3.258 | 节点管理 |
| bk_fta_solutions | 6.0.43  | 故障自愈 |
|    bk_monitor    | 2.6.022 | 蓝鲸监控 |
|  bk_log_search   | 2.1.60  | 日志检索 |
|     bk_sops      | 3.3.27  | 标准运维 |


## 版本日志


### 已知问题

- 【作业平台】提示信息跨页面偶现不消失，下个迭代修复
- 【作业平台】全局 IP 选择服务器与分组名 UI 重叠，下个迭代修复
- 【作业平台】作业描述功能暂无实际作用，下个迭代修复
- 【故障自愈】增加多级拓扑之后，自愈详情过滤中会有一列同名现象，下个迭代修复
- 【故障自愈】汇总套餐中暂无邮件通知，下个迭代修复
- 【故障自愈】配置平台中拓扑实例修改后，故障自愈拓扑名称不会同步更新，下个迭代修复
- 【故障自愈】拓扑多次增加和删除会导致收敛异常，下个迭代修复
- 【故障自愈】在配置平台修改了新增的拓扑名称之后接入的自愈将会失效，下个迭代修复
- 【故障自愈】接入自愈中不同拓扑级别下存在同名的集群或者模块，无法辨识，下个迭代修复
- 【日志检索】不支持 Windows 日志采集上报

### V6.0.27 更新
- 【发布时间】20200317

- 【新增】ITSM API 文档
- 【修复】paas_agent 已知问题 BUG 修复：非官方 SaaS 不能重复部署，setuptools 问题

### V6.0.26 更新
- 【发布时间】20200103

- 【新增】支持多级拓扑,在配置平台增加拓扑后，在其他原子平台和 SaaS 中也会同步拓扑信息
- 【新增】标准运维支持轻应用，创建轻应用过后，可以在“工作台”上显示快捷入口
- 【优化】开发框架升级为 2.0，兼容 Python2.7.X，支持 Python3
- 【优化】APIGateway

### 部署脚本
- 【新增】支持新规范（projects.yaml 最简定义）
- 【新增】支持 bcs 整套服务部署（含 bcs server，bcs web，devops 后台，thanos，harbor，etcd 等系列服务）
- 【新增】新规范的 install.config 配置格式
- 【新增】支持将各模块下的不同功能拆分部署到不同的机器上。
- 【新增】通过脚本注册托管插件的托管信息。
- 【新增】支持 AIX 插件打包及信息加载
- 【新增】支持根据 projects.yaml 定义启动顺序
- 【新增】支持 start 及 stop 的钩子函数
- 【新增】支持任意节点数量的 ZK 实例
- 【新增】支持多套 kafka(对应独立的多套 ZK)
- 【新增】配置文件模板支持文件一对多关系处理
- 【新增】支持 gse agent 的各类安装目录自定义功能
- 【新增】支持 MongoDB、etcd 等多实例
- 【新增】升级到 mysql5.7
- 【新增】增加 Python3.6 支持
- 【新增】支持 SaaS 部署新接口
- 【新增】兼容 bkdatav2 及 bkdatav3 版本。
- 【新增】增加 update hosts_bcs 功能(添加域名主机映射关系
- 【新增】支持规范化版本的 GSE Windows Agent 安装
- 【新增】增加对 install.config 的 检查
- 【新增】增加 execute bit
- 【新增】bk_nodeman_KV 新增变量
- 【修复】修复 mysql 多实例时 initdata 的可能出现的识别错误实例的问题
- 【修复】修复 proxy 节点上的 gsectl 检查进程状态未根据实际进程进行匹配的问题
- 【修复】多工程分布部署时 initdata 只处理第一台的问题
- 【修复】修复 CTRL_DIR 路径问题
- 【优化】去掉 sync common 里生成 etcd 证书的逻辑
- 【优化】优化 virtualenv 的取名和获取。
- 【优化】统一密码修改时 sed 定界符为‘|’
- 【优化】pxs 略过 ci，codecc，不生成服务定义文件
- 【优化】devops 域名默认值变更




### PaaS 平台
- 【新增】支持 Python 3 的 SaaS 应用
- 【新增】支持“标准运维”产品轻应用的功能
- 【新增】ESB 新增 CMDB、JOB、CMSI 的组件
- 【修复】用户管理批量导入用户信息异常
- 【优化】支持监控 API
- 【优化】APIGateway 服务
- 【优化】开发框架升级为 2.0，兼容 Python2.7.X，支持 Python3
- 【新增】ITSM API 文档

### 配置平台
- 【新增】创建模型实例新增操作审计
- 【新增】查询模型关联关系时，返回对应的关联关系 id
- 【新增】主机支持多字段模型查询功能
- 【新增】支持根据用户名搜索业务
- 【修复】预设模型运营状态翻译不全
- 【修复】交换机模型分组基础信息名称翻译未生效
- 【修复】主机查询条件显示异常
- 【修复】excel 导入实例时，有枚举字段会导入失败的问题
- 【修复】长短字符长度校验未按 byte 校验的问题
- 【修复】主机身份引起的异常问题
- 【修复】主机查询，未根据用户指定的字段返回数据的问题
- 【修复】根据模块名获取绑定进程信息问题
- 【修复】查询模型实例接口返回不匹配问题修复
- 【修复】主线模型断链问题
- 【修复】进程接口 404 问题
- 【修复】自定义层级主机查询失败问题
- 【修复】healthz 接口
- 【修复】导入主机实例关联报错问题
- 【修复】模型互相关联升级出现的缺陷
- 【修复】修复业务主机业务选择器 UI 层级不正确的问题
- 【修复】修复模型字段分组拖动报错的问题
- 【修复】修复主机删除的操作审计日志中设置了当前值和删除前的值相同导致操作审计日志未添加进数据库的问题
- 【修复】修复 api/v3/inst/association/search/owner/0/object/{bk_obj_Id}模糊查询不受特殊字符影响的问题
- 【修复】修复模型关联为 n-n 时，俩实例之间的关联可以重复创建的问题
- 【优化】调整 cpu 频率的英文字段名和单位
- 【优化】查询模型分类的接口性能
- 【优化】指更新模型实例的性能
- 【优化】IP 的正则匹配方式
- 【优化】当网络，中间件等内置模型删除后，升级的处理逻辑，直接跳过
- 【优化】长短字符长度校验未按 byte 校验的问题
- 【优化】表单校验错误提示文本超长未处理的问题
- 【优化】不记录没有修改数据的操作审计
- 【优化】当数据量大了以后可能会引发的升级卡住问题
- 【优化】审计页面相关优化
- 【优化】MongoDB 连接配置支持特殊字符
- 【优化】添加侧栏关闭提示
- 【优化】关联描述改为非必填
- 【优化】操作审计样式优化
- 【优化】添加 sideslider 关闭提示

### paas_agent 平台

- 【修复】paas_agent 已知问题 BUG 修复：非官方 SaaS 不能重复部署，setuptools 问题- 【修复】paas_agent 已知问题 BUG 修复：非官方 SaaS 不能重复部署，setuptools 问题

### 管控平台
- 【修复】dataop 主机非标准配置,IP 获取失败问题
- 【优化】任务执行结果的序列化效率
- 【优化】gse_procmgr 的 mongdb 连接池优化
- 【优化】gse_procmgr 的进程状态同步优化
- 【优化】gse_syncdata 的订阅 cmdb 的主机事件接口优化

### 作业平台

- 【新增】IP 白名单功能，添加白名单的 IP,可以跨业务使用
- 【新增】作业迁移功能优化，支持自定义密钥和有效期
- 【新增】选择服务器支持多级拓扑
- 【新增】作业平台全面对接配置平台 3.0 接口
- 【新增】修改 get_job_instance_status 接口，返回服务器的作业执行状态
- 【修复】新建作业-文件传输-目标路径包含"\"导致解析错误的问题
- 【修复】本地上传文件超过 2G 提示不正确的问题
- 【修复】文件传输步骤编辑服务器文件列表，服务器账户被清空的问题
- 【修复】编辑作业-勾选步骤-点击取消全选没有反应的问题
- 【修复】作业执行页面作业类型显示不正确的问题
- 【修复】作业迁移密码错误提示不准确的问题
- 【修复】MySQL 升级失败的问题
- 【修复】导出作业有效期不正确的问题
- 【修复】新建公共脚本报错的问题
- 【修复】execute_platform_task 接口报错问题
- 【修复】文件源服务器和目标服务器一致且源文件不存在的场景下，作业长时间无法结束的问题
- 【修复】修复非直连云区域名称显示问题
- 【修复】修复删除脚本之后，创建同名脚本失败的问题
- 【优化】新建作业-服务器账号默认不选中的问题



### 节点管理

- 【新增】增加条件查询，表头支持筛选
- 【新增】增加跨页全选
- 【新增】主机搜索功能
- 【新增】全局配置自动加载
- 【新增】云区域(Proxy)跨业务使用
- 【新增】云区域支持 2 个以上 Proxy 节点
- 【新增】安装 Proxy 时增加从 CMDB 选择主机导入
- 【新增】云区域信息表中的业务 ID 字段，支持多个 ID(以便处理历史数据中有多业务共享的云区域)
- 【修复】添加 Agent 提示信息由于 proxy 机器多个情况下排版问题
- 【修复】安装 Pagent 查询 job 状态传参问题
- 【修复】Agent 安装参数拼写错误
- 【修复】提示文字中的 IP 修正，增加一行 nginx 策略文字描述
- 【修复】插件描述字段 DB 类型修改为 text
- 【修复】Agent 卸载参数顺序调整
- 【修复】Session 过期导致的 403 问题
- 【修复】Windows 卸载 Agent 脚本拉取错误问题
- 【修复】安装 Proxy 查询状态参数修复
- 【修复】安装 Pagent，Proxy 业务为 1 问题
- 【修复】任务列表状态悬浮提示文字有点跑出黑色底
- 【修复】切换英文时任务管理 UI 错乱
- 【修复】小分辨率下 UI 错乱
- 【修复】CMDB 导入无系统主机，增加手动设置
- 【修复】插件管理跨页全选问题
- 【修复】插件管理小屏串行问题
- 【修复】Pagent 主机无法导入
- 【修复】时区不准确问题
- 【修复】普通用户可以查看配置页面信息
- 【修复】批量终止报错文字优化
- 【修复】插件页面显示插件串行的问题
- 【修复】快速安装 proxy 参数调整
- 【修复】终止任务报错问题
- 【修复】配置页面 GSE 内外网 IP 支持多个 IP，逗号分隔
- 【修复】从 Excel 导入时，支持填写外网 IP 注册到 cmdb
- 【修复】修复 windows 插件进程安装路径反斜线多余的问题
- 【修复】Windows 安装 Pagent 获取系统信息超时问题
- 【修复】从 CMDB 导入中，选中 set 节点时，仅显示查询该节点下的 IP
- 【修复】安装步骤状态与日志详情中的步骤不同步的问题
- 【修复】主机较多时，点击跨页全选增加 loading 状态
- 【修复】Excel 导入多业务导入功能优化
- 【优化】安装 Proxy，检查是否已存在"内,外"网 IP 都相同的主机
- 【优化】快速添加 Agent 弹层收起优化
- 【优化】无业务信息提示去除多余的分号
- 【优化】优化主机排序
- 【优化】主页面重构, 优化 UI
- 【优化】从 CMDB 导入功能优化
- 【优化】标签页数字标识当前区域下的主机数量
- 【优化】云区域的隐藏和显示
- 【优化】TaskLog 保留两天的记录
- 【优化】Readme 文档更新
- 【优化】插件列表跨页全选优化
- 【优化】编辑 Agent 信息的提示
- 【优化】日期选择器 - 未来日期不可选
- 【优化】提示文字优化及 IP 的 tooltip 展示优化
- 【优化】修改云区域名称提示
- 【优化】前端提示性文案
- 【优化】Excel 导入主机添加
- 【优化】安装 Agent 菜单改成 Agent 管理
- 【优化】title 更新为节点管理|蓝鲸智云


### 标准运维

- 【新增】添加标准插件远程加载功能，开发自定义插件再也不用先解压再压缩官方版本包了
- 【新增】添加移动端访问入口，开启移动端配置后，可以在企业微信新建、执行任务
- 【新增】导入公共流程模板接口接入蓝鲸 API，并限制只能 bk_bcs 等内置白名单 SaaS 调用
- 【新增】新建周期任务时，周期表达式支持通过选择生成，用户可以选择按照分钟、小时、星期、日期、月份等维度循环执行或者指定某些时间点执行
- 【新增】新建任务-参数填写页面添加查看未引用变量功能，用户可以查看属性是显示但是未被执行的节点引用的全局变量
- 【新增】官方插件库新添 CMDB-转移主机至业务故障机、CMDB-转移主机至资源池 2 个插件(感谢社区用户 AllenHolems 贡献)
- 【新增】官方插件库新添 JOB-快速执行 SQL 脚本、JOB-新建定时作业 2 个插件(感谢社区用户 chenrb 贡献)
- 【新增】添加公共流程模板导入 API，支持其他应用通过 API 新建公共流程
- 【修复】JOB-执行作业插件全局参数值包含中文时执行报错的问题
- 【修复】导入流程时画布渲染不出节点的问题
- 【修复】子流程 combine 类型参数（如 IP 选择器）勾选后的全局变量 source_tag 值不正确的问题
- 【修复】移动端修改执行方案后新建任务接口报错的问题
- 【修复】移动端暂停节点点击继续执行接口报错的问题
- 【修复】新建任务时点击返回都回到流程编辑页面的问题。优化为从哪个页面新建任务，就返回哪个页面；任务执行页面的返回都回到任务记录页面
- 【修复】移动端加载执行方案为空的问题
- 【修复】移动端汇聚网关连线展示不全的问题
- 【修复】从任务列表或者周期任务列表点击新建后过滤流程模板都为空的问题
- 【修复】流程画布编辑时节点是否可选图标不更新的问题
- 【修复】新建周期任务填写周期表达式多输入字符导致浏览器崩溃的问题
- 【修复】自定义输入框全局变量的校验规则在填写参数时未生效的问题
- 【修复】流程未被引用的变量都是隐藏属性时，新建任务的参数填写显示了未引用变量，但是点开显示空白的问题
- 【修复】标准插件单元测试中 Service 对象没有 logger 属性的问题
- 【修复】IP 选择器编辑后未保存的问题
- 【修复】蓝鲸服务(BK)-HTTP 请求插件的 URL 参数输入较长 URL 导致浏览器卡死的问题
- 【修复】执行任务页面节点操作 tooltip 样式问题
- 【修复】IP 选择器对多内网 IP 的服务器解析异常的问题
- 【修复】mako 语法中包含#解析时出现 memory error 的问题，包含#字符的 mako 语法不再解析
- 【修复】有参数时修改周期任务弹窗确认按钮一直处于 loading 状态的问题
- 【修复】轻应用内新建任务页面点击返回，定向到业务首页的问题，直接去掉返回按钮
- 【修复】新建任务节点选择时，执行方案预览未生效的问题
- 【修复】数据统计时间筛选条件右侧点展开关闭弹窗击无效的问题
- 【修复】数据统计-流程统计列表只展示一条数据的问题
- 【修复】包含并行分支的流程，在执行任务查看参数时的排序不正确的问题
- 【修复】编辑流程时，切换本地缓存记录后标准插件左上角显示失败处理方式的图标消失的问题
- 【修复】新建任务未执行时获取不到执行者的问题
- 【修复】非运维人员编辑流程模板报错提示弹窗提示登录而不是无权限的问题
- 【修复】流程编辑中，打开子流程节点，流程选择下拉框展开时未定位到已选择的子流程的问题
- 【修复】分支判断表达式解析不严格，导致形如 "true == true111" 的分值表达式被判断为 True 的问题
- 【修复】无编辑权限的用户可以更新流程模板数据的问题
- 【修复】单元测试在使用 sqllite 时第一次 migrate 无法完成的问题
- 【修复】任务执行前，修改参数保存后，查看参数节点参数信息不展示问题
- 【修复】新建缓存控制台报校验相关错误的问题
- 【修复】下拉框表单项搜索结果为空时，选择项被清空问题
- 【修复】编辑表格类型参数导致插件参数面板收起的问题
- 【修复】统一管理员入口页面的 URL 前缀，管理员入口页面刷新后默认业务被置空的问题
- 【修复】任务执行页面，查看参数中汇聚节点后的插件节点未显示的问题
- 【修复】页面中表格翻页后，通过高级搜索查询数据为空的问题
- 【修复】职能化页面新建任务弹窗中，清空选择的业务后，流程模板选择项未清空的问题
- 【修复】JOB-执行作业输出参数偶现显示其他插件节点已勾选输出参数的问题
- 【修复】修复发送消息时读取业务信息缓存操作产生死锁影响任务执行的问题
- 【修复】修复远程包源编辑模块配置非 modules 字段后，导致 modules 字段数据类型变更的问题
- 【修复】修复通过 APIGW 使用公共流程新建的任务，页面打开报错 404 的问题
- 【修复】修复 JOB-执行作业 插件索引数组类型变量格式错误及 IP 获取不到的问题
- 【修复】修复任务执行修改参数点击 IP 选择器筛选条件分类面板会收起的问题
- 【修复】修复 IP 选择器静态 IP 筛选分页不正确的问题
- 【修复】修复导出流程/公共流程数量过多时返回 502 的问题
- 【修复】修复 IP 选择器（简单版）输入后卡死的问题
- 【修复】修复分支条件失败时保存错误信息异常，未展示具体错误的问题
- 【优化】化移动端分支条件展示样式，避免覆盖导航文案
- 【优化】管理员入口-公共流程新建和编辑时，去掉"新建任务"和"保存并新建任务"入口，只能在某个业务下使用公共流程新建任务
- 【优化】从周期任务列表页新建周期任务，下一步进入参数填写时隐藏执行计划参数
- 【优化】移动端业务名称过长时的样式
- 【优化】移动端画布分支条件的样式
- 【优化】远程包源加载编辑页面添加名称校验
- 【优化】远程包源 S3 类型的单次链接超时时间优化为 10s
- 【优化】[开发]upload tag 添加手动上传按钮，支持用户开发自定义上传事件的插件表单
- 【优化】[开发]标准插件表单事件中，可以通过 $.getConstants 获取全局变量
- 【优化】代码优化，django_signal_valve 模块移动到 pipeline 中
- 【优化】前端 magic-box 组件升级更新
- 【优化】轻应用列表页新增高级搜索
- 【优化】Bamboo 流程引擎支持自定义失败回调事件
- 【优化】Bamboo 流程引擎支持自定义执行逻辑的结束节点
- 【优化】编辑流程时新建任务，点击返回后返回到流程编辑页面，而不是业务首页
- 【优化】去掉切换子流程时浏览器 console 打印的 error 日志
- 【优化】提升事务执行速度，降低可能出现的数据库 deadlock 概率
- 【优化】首次部署时，如果 DB migrate 未完成，尝试从环境变量获取 REDIS 配置
- 【优化】插件开发前端 TagRadio 和 TagSelect 支持 Boolean 类型的 value 值，TagSelect 增加 set_loading 方法
- 【优化】流程编辑画布支持直接拖拽标准插件节点和子流程节点，之后再选择具体插件和子流程以及填写参数
- 【优化】从周期任务列表页面新建周期任务时，参数填写页面隐藏执行计划
- 【优化】全局变量显示时去掉不能为空的校验
- 【优化】taskflow 部分后台日志格式，添加更详细的错误堆栈信息
- 【优化】管理员 admin 页面 pipeline 表格展示，提升数据加载速度
- 【优化】创建插件 APP 命令增强，添加单元测试目录，头部添加版权信息，添加必要导入语句
- 【优化】IP 选择器禁用样式优化
- 【优化】流程编辑画布已添加节点个数的底色增加透明度
- 【优化】统一任务执行步骤的底色样式
- 【优化】流程模板编辑中，子流程节点跳转到子流程的样式优化
- 【优化】导出流程/公共流程未选中时错误提示样式优化，解决错误文案覆盖按钮的问题
- 【优化】在新建流程时未引用全局变量样式，去掉必填提示
- 【优化】周期规则循环间隔时间验证，限制必须为正整数
- 【优化】导航栏固定在顶部，不会随着浏览器滚动条下拉而隐藏
- 【优化】新增、编辑周期任务中周期表达式参数前端校验优化
- 【优化】流程编辑中全局变量列表的显示隐藏、输入输出属性改为图标区分
- 【优化】非数据列表页面添加返回按钮，用户可以快速返回到之前的数据列表页面
- 【优化】二级导航的父级允许点击，默认打开二级导航列表的第一项
- 【优化】二级导航列表选中态样式优化
- 【优化】IP 选择器样式多处优化，去掉静态 IP 选择列表中云区域中多余右括号
- 【优化】导出流程弹窗和编辑周期任务弹窗按钮添加 loading 效果
- 【优化】轻应用页面重构，展示更新人、更新时间、使用权限等更多信息
- 【优化】redis 环境变量配置支持在部署时注入作为默认值，用户在数据库中配置项可以覆盖默认值
- 【优化】新建任务的参数填写、职能化认领页面表格内 textarea 宽度自适应
- 【优化】去掉流程模版本地缓存为空时 hover 底色
- 【优化】执行任务时操作按钮状态切换优化
- 【优化】导出流程弹窗 loading 时，禁用筛选条件下拉框
- 【优化】不允许用户删除已经开始执行且未进入归档状态的任务
- 【优化】页面头部导航左右间距统一
- 【优化】优化 IP 选择器加载样式
- 【优化】日志配置优化，支持本地开发时在 console 中展示请求日志
- 【优化】本地开发配置，支持不使用全局变量，直接修改本地代码运行工程



### 蓝鲸监控

- 【新增】全新首页正式上线！新用户指引更友好，强化业务整体的监控状态
- 【新增】兼容配置平台 3.0 的多层级业务拓扑结构
- 【新增】告警邮件中现在会包含图表、性能报告
- 【新增】组件的告警策略现在有了统一的入⼝（在监控配置页面中）
- 【新增】磁盘、⽹卡的告警配置⽀持更细维度的过滤
- 【新增】所有组件的采集方式来源全部标注显示
- 【新增】支持设置了告警屏蔽后，发送消息通知
- 【新增】策略配置的“检测范围”现在支持大于和小于两种过滤方式
- 【新增】支持在 Admin 后台设置过滤的文件系统类型（解决挂载镜像会发出无意义告警的问题）
- 【新增】脚本采集链路优化，流程升级，支持各类型脚本
- 【新增】服务拨测支持批量导入
- 【新增】日志采集支持批量导入
- 【新增】分级告警、告警恢复、无数据告警
- 【新增】数据链路的健康状态展示，方便排查数据未上报
- 【新增】后台自监控告警
- 【新增】AIX 系统下 自定义组件采集支持
- 【新增】集中设置过滤的文件系统类型，解决挂载镜像告警的问题
- 【新增】主机监控增加“swap 空间使用率 ”这个指标
- 【新增】组件监控支持管理组件分类
- 【新增】监控 API 支持 monitor_api，字段支持蓝鲸标准
- 【新增】代码去敏感 ip
- 【新增】监控 API 文档刷新
- 【修复】查看进程资源 pid 数量过多会导致获取图表数据返回 502 的问题
- 【修复】自定义监控和仪表盘配置监控项时，监控周期跟实际采集周期不一致的问题
- 【修复】拨测任务采集周期与其对应监控项的监控周期不一致的问题
- 【修复】告警范围配置多个值使用逗号分隔不生效的问题
- 【修复】告警详情图表聚合周期与监控周期不一致的问题
- 【修复】解决 tomcat 组件采集，在测试连通性可能卡顿的问题
- 【修复】告警收敛后，comment 内容被清空的问题
- 【修复】拨测站点 URL 带了"="号导致无数据的问题
- 【修复】修复检测范围不支持 gt 和 lt 的问题
- 【修复】日志采集保存失败问题
- 【修复】主机监控策略类型展示错乱问题
- 【修复】事件中心的无数据告警主机信息获取异常的问题
- 【修复】主机详情页的关联报警信息缺失的问题
- 【修复】事件类型的告警，未显示监控名称的问题
- 【修复】修复 mysql5.7 版本以下部署，可能会导致数据库变更失败的问题
- 【修复】首页获取主机性能数据失败
- 【修复】修复主机监控磁盘 IO 使用率维度过多导致数据拉取不完整的问题
- 【修复】自定义监控图表查询某些情况下报 403 问题修复
- 【修复】主机监控告警通知人取不到模块负责人问题修复
- 【修复】自定义组件导入报错问题
- 【修复】脚本采集下发任务执行出错
- 【修复】脚本采集下发无法点击的问题修复
- 【修复】修复拨测图表显示多余标题的问题
- 【修复】修复组件采集勾选直联区域主机下发可能失败报错的问题。
- 【修复】修复脚本采集无法清除未安装 agent 主机的问题
- 【修复】修复脚本采集下发超时后任务状态未更新的问题
- 【修复】修复脚本采集选择拓扑树下发配置异常的问题
- 【修复】当在 cmdb 配置了名称为 ip 的自定义字段，主机信息解析异常的问题修复
- 【修复】解决组件采集部分组件密码带有特殊字符失效的问题
- 【修复】解决部分场景下图表无水印的问题
- 【修复】修复拨测模块创建拨测节点时描述不正确
- 【修复】修复 SaaS 的 db 连接未释放问题
- 【修复】第一次部署，run_cron 进程异常的问题
- 【修复】match_alarm 进程没有 mysql 连接异常问题
- 【修复】日志检索调用监控 API 失败问题
- 【修复】kernel_api 对未访问过监控的用户鉴权问题
- 【修复】进程端口未恢复的问题
- 【修复】屏蔽在部分情况下不生效问题
- 【修复】healthz 页面对 kafka 相关的状态监测
- 【修复】healthz 监测报 tsdb_proxy 错误问题
- 【修复】主机关联告警策略编辑失败问题
- 【修复】修复自定义组件导入时，测试流程执行失败的问题
- 【优化】get_alarms 接口 API 支持获取到告警内容
- 【优化】优化脚本采集详情页的查询性能
- 【优化】优化脚本采集实例列表查询速度
- 【优化】调整容器内存大小为 4G
- 【优化】采集器下发路径可通过环境变量设置
- 【优化】将脚本采集执行超时设置为 60s(默认为 3s)
- 【优化】脚本采集测试主机列表增加分页
- 【优化】AD 组件采集描述，新增
- 【优化】当主机数量大于 100 时，主机监控页面不再拉取 CPU 单核使用率数据
- 【优化】告警屏蔽策略支持周期性的灵活配置
- 【优化】主机监控支持按云区域进行过滤
- 【优化】磁盘使用率的统计不会再计算系统保留空间（与系统原生计算方式保持一致）
- 【优化】检测算法现在支持“不等于”
- 【优化】磁盘 IO 读写速率支持整块盘采集
- 【优化】拨测详情页添加可用率、响应时间圆环展示图、节点状态展示图
- 【优化】拨测节点管理，节点属性去掉区域依赖
- 【优化】主机性能数据缓存开关支持 admin 配置，默认不开启
- 【优化】删除组件时，同时删除对应的监控项及监控策略
- 【优化】事件中心默认优先展示未恢复的事件
- 【优化】事件中心日历模式交互优化，去除操作流水展示
- 【优化】进程采集器性能
- 【优化】日志采集器存储切换为 influxdb、支持跨云采集
- 【优化】主机视图维度，删除不必要的描述
- 【优化】组件监控增加分类筛选框
- 【优化】内置组件监控将存活状态指标置顶
- 【优化】主机监控列表根据上报状态正常优先排序
- 【优化】服务拨测页面展示增强
- 【优化】去除后台的 crontab
- 【优化】主机详情页、告警增加复制链接
- 【优化】主机列表中进程服务超过多行缩略显示，点击其中进程跳转对应视图
- 【优化】zookeeper 组件描述增加性能风险提示
- 【优化】es 组件采集配置表单增加默认 URL
- 【优化】主机监控 - 主机详情侧弹框组件化
- 【优化】组件监控支持删除已部署实例
- 【优化】业务管理页面重构
- 【优化】事件中心列表模式页面重构
- 【优化】主机监控图表展示时的聚合方法由 avg 改为 max
- 【优化】告警模板中，渲染指标值浮点数 过大或者过小 的时候，使用科学计数法渲染导致可读性较差的问题
- 【优化】主机列表展示今日告警数逻辑优化，只统计已通知和通知失败的数量
- 【优化】celery worker 数可在 admin 配置
- 【优化】后台周期缓存结构
- 【优化】后台处理能力加速



### 故障自愈
- 【新增】支持业务多级拓扑结构功能
- 【新增】告警源管理页面显示未接入自愈的告警数量
- 【新增】替换配置平台和作业平台下线接口
- 【新增】支持标准运维详情 url 采用标准运维接口返回的 task_url
- 【修复】套餐页面多次切换套餐编辑保存出现白页面问题
- 【修复】刷新按钮没有加载的情况下也有滚动动画问题出现
- 【修复】自愈详情页面表格样式调整
- 【修复】预警自愈和全业务接入页面更多通知人选项
- 【修复】用户自定义的自愈套餐没生效问题
- 【修复】系统推荐套餐默认为关闭问题
- 【修复】redis 集群无法单机部署问题
- 【修复】空闲机池集群问题修复
- 【修复】自愈小助手页面展示样式优化
- 【修复】自愈详情页面模块名称和集群名称模糊匹配
- 【修复】未匹配的告警清洗数据报错导致 match 无法执行问题
- 【修复】超级管理员权限不生效问题
- 【修复】标准运维链接打开 404 等问题
- 【修复】业务拓扑没有上层节点的时候无法选择配置集群信息
- 【修复】保存未匹配的告警时候报 redis all dead 错误修复
- 【修复】将 CC 接口返回的业务 id 统一转为字符
- 【修复】CC 接口返回 nonetype 的角色信息的获取更换
- 【修复】后台 redis 集群的 socket_timeout 延长超过 1S
- 【修复】发送通知告警没有带业务名称问题修复
- 【修复】非管理员没有自愈权限问题修复
- 【修复】后台 ijobs 全业务作业接口替换
- 【修复】初始化文件中获取业务列表采用后台白名单接口方式
- 【修复】js 部分未翻译的问题
- 【修复】新部署 APP 默认的告警类型缺失问题修复
- 【修复】故障自愈对接 zabbix4.0 提示 url 问题不存在问题修复
- 【优化】未匹配的告警根据 source_id 去重
- 【优化】告警源反馈信息优化
- 【优化】蓝鲸监控拉取的告警 set 和 module 名称通过配置平台接口拉取
- 【优化】收敛条件失效的情况下提示用户重新保存编辑
- 【优化】修改 zabbix 的 API 的 URL
- 【优化】邮箱配置提示信息优化和加载动画优化
- 【优化】邮箱配置帮助信息提示用户配置内网 ip 正则规则优化
- 【优化】unmatch 告警按天来计入到数据库

### 日志检索
- 【修复】修复新建采集项业务名称不显示的问题
