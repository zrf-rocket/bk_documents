## 流程

### 流程是标准运维的核心功能，分为项目流程和公共流程

1. 项目流程展示了当前项目下的流程列表

![1689062968100](image/flow/1689062968100.png)

2. 公共流程展示了项目下所有可使用的公共流程。公共流程由公共流程提供方管理，在项目下不可编辑，可以单独执行或作为子流程引用。

![1689063076776](image/flow/1689063076776.png)

### 流程编辑：用户通过可视化的界面就可以完成流程编排。

![1689063616746](image/flow/1689063616746.png)

### 流程组成：流程由控制节点、标准插件节点、子流程节点、连线组成

1. 流程控制节点是流程的骨架，包括：

   - 开始节点——标识流程的开始
   - 结束节点——标识流程的结束
   - 并行网关——标识并行执行的开始
   - 分支网关——标识分支执行的开始
   - 条件并行网关——标识条件并行分支的开始
   - 汇聚网关——标识并行或分支的结束

2. 标准插件节点

   - 标准插件节点是内置的最小执行单元，每个节点可以选择一个插件来使用。标准运维已内置部分插件以便开箱即用

   ![1689064850717](image/flow/1689064850717.png)

   - 节点配置核心就是配置插件的输入参数

![1689063985716](image/flow/1689063985716.png) 4. 子流程节点

- 子流程节点是已经封装好的流程。在编辑流程时，我们可以嵌套引用其它流程作为子流程节点使用

![1689064675034](image/flow/1689064675034.png)

5. 全局变量

   - 全局变量是一个流程的公共参数，通过全局变量来实现配置的统一管理。用户可以在节点的输入参数和分支网关表达式中通过 ${Key} 的方式引用，标准运维会在执行任务时自动替换为全局变量的值。
   - 自定义全局变量，可以选择输入框、文本框、日期时间、整数、IP 选择器等不同类型。当设置为“显示（入参）”时，即作为任务的入参，在执行时传入。

   ![1689065577198](image/flow/1689065577198.png)

   - 输入参数设置为变量，支持将插件的某个字段 “设置为变量”。主要有两个作用：

     - 快速创建一个变量并引用
     - 节点配置时不希望固定某项配置，而是执行时传入
       ![1689066090795](image/flow/1689066090795.png)

   - 输出参数设置为变量，只有设置为变量后节点的输出才能供后续节点使用
