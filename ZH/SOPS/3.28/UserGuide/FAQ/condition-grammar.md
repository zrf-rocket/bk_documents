# 如何正确的使用分支表达式

### 表达式组成

1. 比较操作符

   - | 支持 == 、!= 、> 、>= 、< 、<= 、in 、notin 等二元比较操作符 | 二元操作符 | 含义                                              | 示例 |
     | ------------------------------------------------------------ | ---------- | ------------------------------------------------- | ---- |
     | ==                                                           | 等于       | \${v1} == True 、\${v1} == 1 、"${v1}" == "hello" |      |
     | !=                                                           | 不等于     | ${v1} != 1                                        |      |
     | >                                                            | 大于       | ${v1} > 1                                         |      |
     | <                                                            | 小于       | ${v1} < 1                                         |      |
     | >=                                                           | 大于等于   | ${v1} >= 1                                        |      |
     | <=                                                           | 小于等于   | ${v1} <= 1                                        |      |
     | in                                                           | 包含于     | \${v1} in (1, 2) 、"${v1}" in ('a','b')           |      |
     | notin                                                        | 不包含于   | ${v1} notin (1, 2)                                |      |

2. 比较操作符左右两侧的比较因子

   - 支持使用全局变量，如 ${int(key)}
   - 支持使用内置函数、datetime、re、hashlib、random、time、os.path 模块处理全局变量
   - 支持 True/true 、 False/false 作为比较因子

### 表达式连接

- 支持同时使用多个表达式，用 and 、 or 关键词连接

### 示例

- 字符串比较："${key}" == "my string"
- 数值比较：${int(key)} >= 3
- 包含：${key} in (1,2,3)
- \${key} > 3 and ${key} < 10

### 表达式执行逻辑

执行到分支网关/条件并行网关时，执行引擎计算每条分支表达式的结果，得到 True 或 False。

- 分支网关仅执行结果为 True 的分支，且仅允许一条分支为 True。若存在多条 True 分支，则分支网关报错
- 条件并行网关将并行执行所有结果为 True 的分支

> Tips：

- 条件分支网关可以搭配下拉框变量（单选）来确保有且仅有一条分支命中
- 条件并行网关可以搭配下拉框变量（多选）来实现多条分支命中
