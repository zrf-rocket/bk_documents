# 新建环境

网关支持创建环境，以满足不同场景下的 API 调用需求，如可创建测试环境，对应到后端接口的测试环境，从而保证同一套资源配置的情况下，供不同的场景使用网关 API。

在网关的管理页，展开左侧菜单**基本设置**，点击**环境管理**，进入网关的环境管理页，点击**新建环境**。

## 基本信息

配置环境名称，环境名称将作为网关 API 接口地址的一部分，请设置一个含义明确的名称，如测试环境，可使用`test`。

![](../../assets/apigateway/howto/create-stage-basic.png)

## 环境变量

配置`key:value`形式的环境变量，同一个`key`在不同环境可配置不同的`value`，在资源配置中可引用这些环境变量，
详情请参考[模板变量](../reference/template-vars.md)。

![](../../assets/apigateway/howto/create-stage-vars.png)

## 代理配置

### 配置环境默认的后端接口 Hosts

该环境下，网关调用后端服务的默认域名或 IP，不包含 Path 部分，比如：http://backend.example.com。

注意：网关默认创建的环境`prod`，其 Hosts 初始值为占位符，需将其修改为正确的后端接口域名。

### 配置环境默认的超时时间

该环境下，网关调用后端服务默认的超时时间，可根据需求设置，
如设置为 30 秒，如果某资源耗时超过 30 秒，可在资源配置中设置单独的超时时间。

### 向后端接口传递固定的请求头

Header 转换的`设置`部分，可设置`key:value`形式的请求头。该环境下，网关调用后端接口时，会将配置的请求头传递给后端接口。

![](../../assets/apigateway/howto/create-stage-proxy.png)
