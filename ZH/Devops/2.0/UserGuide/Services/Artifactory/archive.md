# 归档制品

## 在流水线中归档制品

编译产出构件后，添加`Upload artifacts`插件将构件归档至制品库

![添加插件](../../assets/artifactory_1.png)

## 配置产物的所在路径，归档到流水线仓库

![配置插件](../../assets/artifactory_2.png)

不勾选 `Upload to a custom path` 时，构件将归档到 `流水线仓库`，归档后在制品库中的路径格式为：
```
/<流水线名称>/<BK_CI_BUILD_NUM>/<构件名称>
```
注：上图中的 path，是构件在构建机本地工作空间下的相对路径，归档到流水线仓库后，不带目录结构。

如 path：a/test.apk， 归档后的路径为：/Demo/1/test.apk，路径中不会包含 a 目录。

执行流水线，通过插件日志以及查看构件检查构件是否归档

## 配置产物的所在路径，归档到自定义仓库

![配置插件](../../assets/artifactory_5.png)

勾选 `Upload to a custom path` 时，构件将归档到 `自定义仓库`，归档后在制品库中的路径格式为：
```
/归档插件中设置的目标路径/<构件名称>
```

执行流水线，通过插件日志以及查看构件检查构件是否归档

## 在制品库中手动上传制品

在制品库服务下，进入一个仓库，新建目录或者直接上传制品

![配置插件](../../assets/artifactory_upload.png)

## 接下来你可能需要

* [制品库](Artifactory.md)
* [下载制品](download.md)


